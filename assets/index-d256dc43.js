import{Scene as S,PerspectiveCamera as M,WebGLRenderer as P,LinearSRGBColorSpace as j,Clock as k,TextureLoader as r,SphereGeometry as y,MeshBasicMaterial as i,Mesh as f,BackSide as L,BoxGeometry as v}from"https://unpkg.com/three@latest/build/three.module.js";import{OrbitControls as z}from"https://unpkg.com/three@latest/examples/jsm/controls/OrbitControls.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))h(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const u of t.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&h(u)}).observe(document,{childList:!0,subtree:!0});function b(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function h(e){if(e.ep)return;e.ep=!0;const t=b(e);fetch(e.href,t)}})();const w=new S,n=new M(70,window.innerWidth/window.innerHeight,.1,2e3),c=new P({canvas:document.querySelector("#bg"),antialias:!0});c.setSize(window.innerWidth,window.innerHeight);c.outputColorSpace=j;n.position.setZ(30);let s=new z(n,c.domElement);s.listenToKeyEvents(window);s.enableDamping=!0;s.dampingFactor=.05;s.screenSpacePanning=!1;s.minDistance=20;s.maxDistance=100;let G=new k(!0);const O=new r().load("./earth.jpg"),W=new y(8,50,50),_=new i({map:O,wireframe:!1}),g=new f(W,_);w.add(g);const C=new r().load("./moon.jpg"),E=new y(1,50,50),R=new i({map:C,wireframe:!1}),o=new f(E,R);o.position.x=20;o.position.y=5;o.rotateY(2*Math.PI/2);w.add(o);let a=[],T=new r().load("./skybox/front.jpg"),B=new r().load("./skybox/back.jpg"),D=new r().load("./skybox/top.jpg"),H=new r().load("./skybox/bottom.jpg"),q=new r().load("./skybox/right.jpg"),A=new r().load("./skybox/left.jpg");const d=!1;a.push(new i({map:q,wireframe:d}));a.push(new i({map:A,wireframe:d}));a.push(new i({map:D,wireframe:d}));a.push(new i({map:H,wireframe:d}));a.push(new i({map:T,wireframe:d}));a.push(new i({map:B,wireframe:d}));a.forEach(l=>l.side=L);const F=new v(2e3,2e3,2e3),p=new f(F,a);w.add(p);function x(){requestAnimationFrame(x);const l=G.getDelta();p.position.x=n.position.x,p.position.y=n.position.y,p.position.z=n.position.z,s.update(),g.rotation.y-=.1*l,o.rotation.y-=.05*l,o.position.x=20*Math.cos(o.rotation.y),o.position.z=20*Math.sin(o.rotation.y),c.render(w,n)}window.addEventListener("resize",N,!1);function N(){n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),c.setPixelRatio(window.devicePixelRatio),c.setSize(window.innerWidth,window.innerHeight)}x();
